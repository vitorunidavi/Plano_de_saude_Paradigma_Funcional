# 👨‍⚕️ Análise Funcional de Custos de Plano de Saúde

Aplicação web desenvolvida para a disciplina **Linguagem de Programação e Paradigmas** — Prof. Esp. Ademar Perfoll Junior.

Este projeto foca na aplicação estrita do **Paradigma de Programação Funcional (PF)** em JavaScript para simular e calcular custos de um plano de saúde, garantindo a integridade dos dados através de **funções puras** e **imutabilidade**.

## 👥 Desenvolvedores

* [Vitor Hugo Tavares]
* [Gustavo Borgonha]

Repositório oficial:
https://github.com/vitorunidavi/Plano_de_saude_Paradigma_Funcional

---

## 🎯 Objetivo do Projeto

Implementar um programa prático e acessível utilizando JavaScript, com o objetivo principal de demonstrar:
* **Funções Puras:** Lógica de negócio sem efeitos colaterais.
* **Imutabilidade:** Criação de novos estados de dados sem alterar os originais.
* **Funções de Ordem Superior (HOCs):** Uso de `map`, `filter` e `reduce` para processamento declarativo de listas.
* **Validação Pura:** Garantia da consistência dos dados de entrada antes do cálculo.

---

## ⚙️ Tecnologias Utilizadas

* **JavaScript (ES Modules):** Linguagem principal, permitindo a modularização do código (`regras.js` e `index.js`).
* **HTML / CSS:** Interface do usuário (UI) para entrada e exibição de dados.
* **Node.js / Live Server:** Utilizados para executar o projeto e a interface via servidor local (necessário para o uso de `import`/`export`).

---

## 🧪 Tema Implementado: Plano de Saúde (Faixa Etária, Coparticipação e Franquias)

O sistema simula as regras de precificação e custo de procedimentos de um plano de saúde:

| Tipo | Descrição |
| :--- | :--- |
| **Entrada (Input)** | Lista de Beneficiários (Nome, Idade) e seus Procedimentos utilizados (Nome, Valor de Referência). |
| **Regras (Lógica)** | 1. Mensalidade baseada na Faixa Etária. <br> 2. Cálculo da Coparticipação por Procedimento (percentual). <br> 3. Limite Máximo de Coparticipação Mensal (Franquia/Dedutível). |
| **Saída (Output)** | Custo Total por Beneficiário (Mensalidade + Coparticipação Final) e o detalhamento do custo por Procedimento. |
| **Invariantes** | A Coparticipação paga nunca pode exceder o valor do procedimento e deve respeitar o limite máximo mensal. |

---

## 🧠 Aplicação do Paradigma de Programação Funcional

A lógica de processamento (`index.js`) é construída sobre funções puras definidas em `regras.js`, garantindo que a aplicação das regras seja previsível e sem estado.

### 1. Funções Puras e Imutabilidade

Todas as funções de cálculo (`calcularMensalidade`, `calcularCustoProcedimento`, `processarBeneficiario`) são puras:
* Recebem uma entrada e **sempre retornam o mesmo resultado** para a mesma entrada.
* Não alteram o estado global.
* A **Imutabilidade** é garantida pelo retorno de **novos objetos de dados** em cada etapa de processamento, utilizando o *spread operator* (`...`). As tabelas de regras são estáticas (`const`).

### 2. Fluxo de Processamento com HOCs

O cálculo de custos é um pipeline de transformação de dados, utilizando as Funções de Ordem Superior:

| HOC | Função Aplicada | Objetivo |
| :--- | :--- | :--- |
| **`Array.prototype.filter()`** | `validarBeneficiario` | Descarta beneficiários com entradas inválidas (idade ou valores não-positivos) antes de qualquer cálculo. |
| **`Array.prototype.map()`** | `processarBeneficiario` | Transforma cada beneficiário válido em seu objeto de **Saída Final**, que inclui todos os custos calculados. |
| **`Array.prototype.reduce()`** | Função de soma | Agrega os custos de Coparticipação de todos os procedimentos de um beneficiário em um único valor (Coparticipação Bruta). |

---

### 3. Exemplo de Processamento (Entrada e Saída)

Para ilustrar a aplicação das regras, considere o seguinte fluxo de dados:

**A. Dados de Entrada:**
| Beneficiário | Idade | Faixa | Procedimento | Valor (R$) | % Copart. (Tabela) |
| :--- | :--- | :--- | :--- | :--- | :--- |
| Alice | 21 | 19-23 | Consulta Clínica | 80.00 | 30% |
| *(Regra Adicional: Limite Mensal de Coparticipação: R$ 300,00)* |

**B. Cálculos Aplicados:**
1. **Mensalidade (Faixa 19-23):** R$ 250,00
2. **Coparticipação Bruta:** R$ 80,00 * 30% = R$ 24,00
3. **Coparticipação Final (Após Franquia):** R$ 24,00 (menor que o limite de R$ 300,00)

**C. Saída (Custo Final por Beneficiário):**
* **Mensalidade:** R$ 250,00
* **Coparticipação Total:** R$ 24,00
* **Custo Total Final:** R$ 274,00

---

## 🚀 Guia de Instalação e Execução

### 🔧 1. Estrutura de Arquivos

Certifique-se de que a pasta do seu projeto contém a seguinte estrutura:

plano-de-saude-funcional/ ├── index.html (Interface e CSS) ├── index.js (Fluxo de processamento e UI) └── regras.js (Funções Puras e Tabelas de Dados) └── README.md


### 🖥️ 2. Execução (No Navegador)

1.  No VS Code, clique com o botão direito no arquivo **`index.html`**.
2.  Selecione **"Open with Live Server"**.
3.  A aplicação será aberta no seu navegador padrão (`http://127.0.0.1:5500/...`).
4.  Utilize a interface para adicionar beneficiários e clicar em **"Processar Custos"** para visualizar a aplicação das regras funcionais.

---

## 🖋️ Créditos

Desenvolvido por:
* Gustavo Borgonha
* Vitor Hugo Tavares

📚 Curso: Sistemas de Informação
🏫 Universidade — Disciplina: Linguagem de Programação e Paradigmas
👨‍🏫 Professor: Esp. Ademar Perfoll Junior